# 机器人运动控制配置文件
# 定义轮子前进后退左转右转的运动参数

# 串口配置（统一管理）
# 为兼容旧脚本：如果没有 control/receive 子项，旧字段仍被读取
serial:
  control:
    port: "COM10"
    baudrate: 115200
    timeout: 1.0
  receive:
    port: "COM11"
    baudrate: 115200
    timeout: 0.02

# 运动命令定义
# 格式: $SPD,motor0_speed,motor1_speed,motor2_speed,motor3_speed#
# 正值表示正转，负值表示反转
# 速度单位: RPM (转每分钟)

movement_commands:
  # 前进命令
  forward:
    description: "前进"
    speeds: [-4000, 4000, 4000, -4000]  # motor0, motor1, motor2, motor3
    command: "$SPD,4000,-4000,-4000,4000#"

  # 后退命令
  backward:
    description: "后退"
    speeds: [4000, -4000, -4000, 4000]  # motor0, motor1, motor2, motor3
    command: "$SPD,-4000,4000,4000,-4000#"

  # 左转命令
  left:
    description: "左转"
    speeds: [-2000, 1500, 4500, -5000]  # motor0, motor1, motor2, motor3
    command: "$SPD,1500,-1500,-2500,2500#"

  # 右转命令
  right:
    description: "右转"
    speeds: [-4500, 5000, 2000, -1500]  # motor0, motor1, motor2, motor3
    command: "$SPD,-1500,1500,2500,-2500#"

  # 停止命令
  stop:
    description: "停止"
    speeds: [0, 0, 0, 0]  # motor0, motor1, motor2, motor3

# 电机配置
motors:
  motor0:
    name: "前左轮电机"
    direction: "positive_clockwise"
  motor1:
    name: "前右轮电机"
    direction: "negative_clockwise"
  motor2:
    name: "后左轮电机"
    direction: "negative_clockwise"
  motor3:
    name: "后右轮电机"
    direction: "positive_clockwise"

# 运动参数
# movement_params:
#   max_speed: 3000      # 最大速度 (RPM)
#   min_speed: -3000     # 最小速度 (RPM)
#   turn_speed: 2500     # 转弯速度 (RPM)
#   default_speed: 4000  # 默认前进速度 (RPM)

# PID参数 (可选，用于未来扩展)
pid_defaults:
  kp: 1.0
  ki: 0.1
  kd: 0.05

scripts:
  run_and_record_full:
    duration_seconds: 15.0
